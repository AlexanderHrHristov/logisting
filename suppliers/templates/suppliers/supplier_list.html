{% extends 'base.html' %}

{% block content %}
<h2 class="mb-4" style="color: white; font-weight: bold;">üè¢ –î–æ—Å—Ç–∞–≤—á–∏—Ü–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏ —Å—Ç–æ–∫–∏ "–°—Ç–∏–Ω–≥"–ê–î</h2>


<form method="get">
  <div style="display: flex; gap: 1rem; align-items: center;">
    {{ filter.form.name.label_tag }} {{ filter.form.name }}
    {{ filter.form.delivery_method.label_tag }} {{ filter.form.delivery_method }}
    {{ filter.form.responsible_logistic.label_tag }} {{ filter.form.responsible_logistic }}
    <button type="submit" class="btn btn-primary">–ü–æ–∫–∞–∂–∏</button> 
  </div>
</form>


<table class="table table-sm table-striped table-bordered table-responsive">
    <thead class="table-dark">
        <tr>
            <th>–ò–º–µ</th>
            <th>–î–î–° –Ω–æ–º–µ—Ä</th>
            <th>–ò–º–µ–π–ª</th>
            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            <th>–õ–∏—Ü–µ –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç</th>
            <th>–î–æ—Å—Ç–∞–≤–∫–∞</th>
            <th>–û—Ç–≥–æ–≤–æ—Ä–µ–Ω –ª–æ–≥–∏—Å—Ç–∏–∫</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for supplier in suppliers %}
        <tr>
            <td>{{ supplier.name }}</td>
            <td>{{ supplier.vat_number }}</td>
            <td>{{ supplier.email }}</td>
            <td>{{ supplier.phone }}</td>
            <td>{{ supplier.contact_person }}</td>
            <td>{{ supplier.get_delivery_method_display }}</td>
            <td>{{ supplier.responsible_logistic }}</td>
            <td>
                <a href="{% url 'suppliers:supplier-update' supplier.pk %}" class="btn btn-sm btn-warning">–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π</a>
                {% if is_logistics_manager %}
                    <a href="{% url 'suppliers:supplier-delete' supplier.pk %}" class="btn btn-sm btn-danger">–ò–∑—Ç—Ä–∏–≤–∞–Ω–µ</a>
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7">–ù—è–º–∞ –≤—ä–≤–µ–¥–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if is_logistics_manager %}
    <a href="{% url 'suppliers:supplier-create' %}" class="btn btn-success">–î–æ–±–∞–≤–∏ –¥–æ—Å—Ç–∞–≤—á–∏–∫</a>
{% endif %}


{% if is_paginated %}
  <div class="pagination">
    <span class="page-links">
      {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; –ø—ä—Ä–≤–∞</a>
        <a href="?page={{ page_obj.previous_page_number }}">–Ω–∞–∑–∞–¥</a>
      {% endif %}

      <span class="current">
        –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –æ—Ç {{ page_obj.paginator.num_pages }}.
      </span>

      {% if page_obj.has_next %}
        <a href="?{% if request.GET %}{{ request.GET.urlencode }}&{% endif %}page={{ page_obj.next_page_number }}">–Ω–∞–ø—Ä–µ–¥</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">–ø–æ—Å–ª–µ–¥–Ω–∞ &raquo;</a>
      {% endif %}
    </span>
  </div>
{% endif %}


{% endblock %}
